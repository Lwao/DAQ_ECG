Version 4
SHEET 1 2480 1524
WIRE -208 224 -288 224
WIRE 1536 224 1472 224
WIRE 1648 224 1600 224
WIRE -32 240 -144 240
WIRE 64 240 -32 240
WIRE 192 240 144 240
WIRE 224 240 192 240
WIRE 352 240 352 -80
WIRE 352 240 304 240
WIRE -208 256 -224 256
WIRE 1008 256 880 256
WIRE 448 304 416 304
WIRE 624 304 512 304
WIRE 736 304 624 304
WIRE 864 304 800 304
WIRE -288 320 -288 224
WIRE -32 320 -288 320
WIRE 880 320 880 256
WIRE 896 320 880 320
WIRE 1472 320 1472 224
WIRE 1520 320 1472 320
WIRE 1648 320 1648 224
WIRE 1648 320 1600 320
WIRE 1760 320 1760 -80
WIRE 1760 320 1648 320
WIRE 1808 320 1760 320
WIRE 192 336 192 240
WIRE 256 336 192 336
WIRE 1008 336 1008 256
WIRE 1008 336 960 336
WIRE 352 352 352 240
WIRE 352 352 320 352
WIRE 416 352 416 304
WIRE 416 352 352 352
WIRE 864 352 864 304
WIRE 896 352 864 352
WIRE -480 368 -480 320
WIRE -480 368 -560 368
WIRE 256 368 192 368
WIRE -1456 384 -1456 352
WIRE -1232 384 -1232 352
WIRE -480 400 -480 368
WIRE -32 400 -288 400
WIRE 416 416 416 352
WIRE 448 416 416 416
WIRE 560 416 528 416
WIRE 736 416 560 416
WIRE 864 416 864 352
WIRE 864 416 816 416
WIRE 1008 416 1008 336
WIRE 1072 416 1072 -80
WIRE 1072 416 1008 416
WIRE 1232 416 1072 416
WIRE 1376 416 1312 416
WIRE 1472 416 1472 320
WIRE 1472 416 1440 416
WIRE 1536 416 1472 416
WIRE 1648 432 1648 320
WIRE 1648 432 1600 432
WIRE 1008 448 1008 416
WIRE 1536 448 1504 448
WIRE -288 464 -288 400
WIRE -208 464 -288 464
WIRE 560 464 560 416
WIRE 624 464 624 304
WIRE -32 480 -144 480
WIRE 64 480 -32 480
WIRE 192 480 192 368
WIRE 192 480 144 480
WIRE 224 480 192 480
WIRE 1504 480 1504 448
WIRE -208 496 -240 496
WIRE 944 496 816 496
WIRE 944 560 944 496
WIRE 944 560 928 560
WIRE 560 576 560 528
WIRE 624 576 624 544
WIRE 624 576 560 576
WIRE 816 576 816 496
WIRE 816 576 624 576
WIRE 864 576 816 576
WIRE 1008 592 1008 528
WIRE 1008 592 928 592
WIRE 1008 624 1008 592
WIRE 1008 736 1008 704
WIRE 1824 1072 1728 1072
WIRE 2032 1072 1888 1072
WIRE 1904 1168 1856 1168
WIRE 2032 1168 2032 1072
WIRE 2032 1168 1984 1168
WIRE 1728 1264 1728 1072
WIRE 1728 1264 1696 1264
WIRE 1760 1264 1728 1264
WIRE 1856 1264 1856 1168
WIRE 1856 1264 1824 1264
WIRE 1920 1264 1856 1264
WIRE 2032 1280 2032 1168
WIRE 2032 1280 1984 1280
WIRE 1920 1296 1888 1296
WIRE 1888 1328 1888 1296
FLAG -240 496 ecg
FLAG 304 480 0
FLAG -560 368 0
FLAG -480 480 V-
FLAG -176 512 V-
FLAG -176 272 V-
FLAG 288 384 V-
FLAG 928 368 V-
FLAG -480 240 V+
FLAG -176 208 V+
FLAG -176 448 V+
FLAG 288 320 V+
FLAG 928 304 V+
FLAG -1232 464 0
FLAG -1232 352 ecg
FLAG -1456 464 0
FLAG -1456 352 power_line
FLAG -224 256 power_line
FLAG 896 608 V-
FLAG 896 544 V+
FLAG 1008 736 0
FLAG 1952 1312 V-
FLAG 1952 1248 V+
FLAG 1888 1328 0
FLAG 352 -80 AMP_OUT
FLAG 1072 -80 RB_OUT
FLAG 1760 -80 BP_OUT
FLAG 1568 464 V-
FLAG 1568 400 V+
FLAG 1504 480 0
SYMBOL res -48 224 R0
SYMATTR InstName R1
SYMATTR Value {R2}
SYMBOL res -48 304 R0
SYMATTR InstName R2
SYMATTR Value {2*R1}
SYMBOL res -48 384 R0
SYMATTR InstName R3
SYMATTR Value {R2}
SYMBOL res 160 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {R1}
SYMBOL res 160 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {R1}
SYMBOL res 320 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {R2}
SYMBOL res 320 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {R2}
SYMBOL voltage -480 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -480 384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL voltage -1232 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL repeat forever(file=ecg_simulation.txt) endrepeat
SYMBOL OpAmps\\OP777 -176 176 R0
SYMATTR InstName U1
SYMBOL OpAmps\\OP777 -176 416 R0
SYMATTR InstName U2
SYMBOL OpAmps\\OP777 288 288 R0
SYMATTR InstName U3
SYMBOL OpAmps\\OP777 928 272 R0
SYMATTR InstName U4
SYMBOL voltage -1456 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(0 10u 60)
SYMBOL res 544 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {2*RN}
SYMBOL res 832 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {2*RN}
SYMBOL cap 512 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {CN}
SYMBOL cap 800 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {CN}
SYMBOL cap 576 528 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C5
SYMATTR Value {2*CN}
SYMBOL res 608 448 R0
SYMATTR InstName R12
SYMATTR Value {RN}
SYMBOL OpAmps\\OP777 896 512 M0
SYMATTR InstName U6
SYMBOL res 992 432 R0
SYMATTR InstName R13
SYMATTR Value {R1N}
SYMBOL res 992 608 R0
SYMATTR InstName R14
SYMATTR Value {R2N}
SYMBOL OpAmps\\OP777 1952 1216 R0
SYMATTR InstName U5
SYMBOL res 2000 1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {R2B}
SYMBOL cap 1888 1056 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value {CB}
SYMBOL cap 1824 1248 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value {CB}
SYMBOL res 1712 1248 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {R1B}
SYMBOL OpAmps\\OP777 1568 368 R0
SYMATTR InstName U7
SYMBOL res 1616 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 500k
SYMBOL cap 1600 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 1.59n
SYMBOL cap 1440 400 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 6.366µ
SYMBOL res 1328 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 500k
TEXT -288 136 Left 2 !.param R1=1k R2=22k
TEXT -1232 528 Left 2 !.tran 1
TEXT 448 144 Left 2 !.param RN=13.2k CN=100n R1N=180 R2N=47k
TEXT 1520 984 Left 2 !.param R1B=11.2k R2B=22.5k CB=1u
RECTANGLE Normal -368 112 384 560 2
RECTANGLE Normal 384 112 1104 784 2
RECTANGLE Normal 1104 112 1696 512 2
